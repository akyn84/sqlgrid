import Grid from '../react/Grid.jsx'
import React from 'react'
import ReactDOM from 'react-dom'

describe('Grid', () => {
    it('works', () => {
        var element = document.createElement('div')
        element.id = 'grid'
        var origin = {"actions":[{"href":"\/4camping.cz\/lubo\/sklad\/reorders\/active","label":"","class":"hidden","parameters":[],"url":""},
                                {"onClick":"signal","label":"Graph","class":"fa-hover fa fa-bar-chart","url":"","href":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-grid-graph"}],
                    "buttons":{"done":{"class":"alert alert-success","label":"Klikn\u011bte SEM pro sta\u017een\u00ed souboru.","link":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-done","style":{"display":"none","marginRight":"10px"}},
                        "dialogs":[],
                        "export":{"class":"btn btn-success","label":"export","link":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-export","onClick":"prepare","style":{"marginRight":"10px","float":"left"},"width":0},
                        "excel":{"class":"btn btn-success","label":"excel","link":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-excel","style":{"marginRight":"10px","float":"left"},"onClick":"prepare","width":0},
                        "filter":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-grid-filter","link":"http:\/\/10.10.0.100:80\/4camping.cz\/lubo\/sklad\/reorders\/active?masala-spice=","listen":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-grid-listen",
                        "page":1,
                        "pages":2,
                        "paginate":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-grid-paginate",
                        "process":{"class":"btn btn-success","label":"zpracovat","link":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-prepare","style":{"marginRight":"10px","float":"left"},"onClick":"prepare"},
                        "proceed":"Opravdu chcete pokra\u010dovat?",
                        "push":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-grid-push",
                        "remove":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-grid-remove",
                        "reset":{"label":"resetovat formul\u00e1\u0159","class":"btn btn-warning","onClick":"reset","style":{"marginRight":"10px","float":"left"}},
                        "run":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-run",
                        "send":{"label":"filtrovat data","class":"btn btn-success","onClick":"submit","style":{"marginRight":"10px","float":"left"}},
                        "setting":{"class":"btn btn-success","display":["none"],"label":"nastaven\u00ed","link":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-grid-setting","onClick":"setting","style":{"marginRight":"10px","float":"left"}},
                        "summary":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-grid-summary",
                        "triggers":["setting","reset","send","excel","export","process","done","submit"],
                        "update":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-grid-update",
                        "submit":{"class":"btn btn-default","label":"potvrdit volbu","style":{"float":"right"},"width":"0","onClick":"push"}},
            "columns":{"id":{"Label":"id","Method":"addHidden","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":true,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-id"},"Validators":[]},
                "products_id":{"Label":"ID produktu","Method":"addHidden","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":true,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-products_id"},"Validators":[]},
                "variants_id":{"Label":"ID varianty","Method":"addHidden","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":true,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-variants_id"},"Validators":[]},
                "producers_id":{"Label":"v\u00fdrobce","Method":"addMultiSelect","Attributes":{"class":"form-control","data":{"_":"--nezvoleno--","_257":"2You","_116":"360\u00b0Degrees","_202":"3F","_121":"Acron","_81":"Adventure Menu","_106":"Aerobed","_155":"AKU","_288":"Aladdin","_151":"Alpine Pro","_267":"Aquawave","_171":"Asolo","_254":"Atsko","_258":"Axon","_188":"Beal","_209":"Bennon","_160":"Bergans","_166":"Berghaus","_163":"Biowash","_310":"Bizoni","_221":"Bo-camp","_11":"Boll","_294":"Bridgedale","_297":"Brita","_237":"Brugi","_260":"Camp Gear","_22":"Campingaz","_35":"Canard","_220":"Coelsol","_72":"Coghlans","_3":"Coleman","_120":"Condor","_210":"Coqui","_28":"Corazon","_245":"Crespo","_290":"Cumulus","_137":"Dare 2b","_199":"Deuter","_159":"Devold","_229":"Direct Alpine","_261":"Doca","_168":"Duras","_16":"Easy Camp","_215":"Eco-grill","_197":"EcoSouLife","_238":"Elbrus","_263":"Etape","_273":"Expres menu","_286":"Extol","_298":"Fenix","_249":"Ferraboli","_5":"Ferrino","_213":"Fitwell","_157":"FIZAN","_242":"Footbalance","_139":"ForCamping","_276":"Force Ten","_208":"Frendo","_98":"Gabel","_217":"Gar","_134":"Garmin","_277":"Gerber","_248":"Gio'Style","_130":"Goal Zero","_144":"GoSystem","_19":"Grand canyon","_173":"Grisport","_161":"Grower\u00b4s cup","_187":"GSI Outdoors","_268":"Gumbies","_70":"Gumotex","_304":"H.A.D.","_113":"Hamaka.eu","_12":"Hannah","_280":"Hanwag","_264":"Hey Sport","_236":"Hi-Tec","_10":"High Peak","_285":"Human Comfort","_39":"Humi","_6":"Husky","_194":"Chaco","_244":"Chimpanzee","_135":"Infit","_232":"Intex","_241":"Iprotec","_230":"Jack Wolfskin","_131":"Jerky","_117":"Jet Boil","_270":"Jurek S+R","_206":"Kari Traa","_302":"Kayland","_66":"Keen","_180":"Kefas","_281":"Kilpi","_226":"KV+","_289":"Lafuma","_128":"lahveSOS","_235":"Lasting","_140":"Leatherman","_146":"Ledlenser","_143":"Leki","_184":"LIFESYSTEMS","_185":"LifeVenture","_132":"Light My Fire","_255":"Lily","_186":"LittleLife","_126":"Loap","_190":"LotusGrill","_33":"Lowa","_243":"Lowe Alpine","_311":"Lucifer","_246":"Lytos","_141":"MacTronic","_231":"Mammut","_227":"Marmot","_154":"Marsupio","_293":"Martes","_218":"Masters","_191":"McNett","_149":"Meindl","_259":"Mercox","_192":"Merrell","_133":"Meva","_224":"Mikov","_203":"Millet","_169":"Mondeox","_181":"Montane","_69":"Mountain Equipment","_100":"Mountain Hardwear","_179":"Mountain house","_74":"MSR","_40":"Mund","_107":"Munkees","_291":"N-Rit","_201":"Nalgene","_299":"Nathan","_305":"NEBO","_57":"Nikwax","_256":"Nordblanc","_114":"Nordisk","_228":"Northfinder","_262":"One","_51":"Opinel","_295":"Oriocx","_83":"Ortovox","_110":"Osprey","_8":"Outwell","_47":"Petzl","_282":"Pieps","_2":"Pinguin","_211":"Planika","_278":"Platypus","_266":"Polar","_101":"Primus","_142":"Progress","_233":"Proma \u0160umperk","_216":"Quick Sport","_165":"R2","_127":"Rafiki","_162":"Rawbite","_205":"Real Turmat","_136":"Regatta","_150":"Rejoice","_164":"Relax","_9":"Robens","_176":"ROCK CREEK s.r.o.","_287":"Rock Empire","_275":"Rock Slave","_183":"Ruff Wear","_38":"RVC","_207":"Salewa","_214":"Saltic","_145":"Salto","_284":"Sawyer","_153":"Scouting","_15":"Sea to Summit","_303":"SealSkinz","_240":"Sensor","_307":"Servis Les","_49":"Sevylor","_147":"SH+","_178":"Sherpax","_75":"Sigg","_43":"Silvini","_156":"SIXS","_308":"Skiffo","_138":"Smartwool","_200":"Source","_177":"Speedo","_265":"Sport Lavit","_274":"Stanley","_269":"Stearns","_198":"SteriPen","_271":"Storm","_212":"Stylgrand","_312":"Summit to Eat","_219":"Swix","_122":"Tarrago","_24":"Tatonka","_296":"Teal","_225":"Terra Nation","_195":"Terra Nova Equipment","_193":"Teva","_111":"The North Face","_23":"Thermarest","_115":"Thorlo","_306":"Thule","_148":"Tilak","_283":"Travellunch","_56":"Trekmates","_167":"Treksta","_18":"Trimm","_109":"Triop","_175":"True Utility","_20":"Vango","_77":"Var","_124":"Victorinox","_182":"Vidix","_300":"Voyager","_4":"Warmpeace","_279":"Wayfayrer","_239":"Westige","_196":"Wild Country","_292":"Wiley X","_13":"Yate","_272":"Zajo","_204":"Zdrav\u00e1 l\u00e1hev","_309":"Zray","_301":"Zulu"},"filter":true,"summary":false,"style":{"display":"none"},"unrender":true,"unfilter":false,"unsort":false,"value":["_257"],"autocomplete":"","min-width":"10px","position":0,"placeholder":"vyhledat v\u00fdrobce","id":"frm-masala-filterform-producers_id"},"Validators":[]},"status":{"Label":"status","Method":"addHidden","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":true,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-status"},"Validators":[]},
                "name":{"Label":"N\u00e1zev","Method":"addText","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":false,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-name"},"Validators":[]},
                "variant":{"Label":"varianta","Method":"addText","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":false,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-variant"},"Validators":[]},
                "ean":{"Label":"ean","Method":"addText","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":false,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-ean"},"Validators":[]},
                "code":{"Label":"k\u00f3d produktu","Method":"addText","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":false,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-code"},"Validators":[]},
                "price_purchase_czk":{"Label":"n\u00e1kupka   ","Method":"addText","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":false,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-price_purchase_czk"},"Validators":[]},
                "sold_week":{"Label":"prod\u00e1no t\u00fddn\u011b","Method":"addText","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":false,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-sold_week"},"Validators":[]},
                "stock":{"Label":"sklad","Method":"addMultiSelect","Attributes":{"class":"form-control","data":{"_":"--nezvoleno--","_0":"201","_1":"203","_2":"204","_3":"205","_4":"206","_5":"207","_6":"208","_7":"210","_8":"211","_9":"001","_10":"003","_11":"004","_12":"005","_13":"006","_14":"007","_15":"008","_16":"009","_17":"010","_18":"011"},"filter":true,"summary":false,"style":{"display":"none"},"unrender":false,"unfilter":false,"unsort":false,"value":[],"autocomplete":"","min-width":"10px","position":0,"placeholder":"vyhledat sklad","id":"frm-masala-filterform-stock"},"Validators":[]},
                "shouldbe":{"Label":"m\u00e1 b\u00fdti","Method":"addEmpty","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":false,"unfilter":true,"unsort":false,"id":"frm-masala-filterform-shouldbe"},"Validators":[]},
                "toorder":{"Label":"k objedn\u00e1n\u00ed","Method":"addEmpty","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":false,"unfilter":true,"unsort":false,"id":"frm-masala-filterform-toorder"},"Validators":[]},
                "reorder":{"Label":"vytvo\u0159it doobjedn\u00e1vku","Method":"addCheckbox","Attributes":{"class":"form-control","data":"","filter":true,"summary":false,"unrender":true,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-reorder"},"Validators":[]},
                "action":{"Label":"akce","Method":"addSelect","Attributes":{"class":"form-control","data":{"":"--nezvoleno--","active":"aktivn\u00ed","postpone":"odlo\u017eit","unfollow":"nesledovat"},"filter":true,"summary":false,"style":{"float":"right"},"unrender":true,"unfilter":true,"unsort":false,"id":"frm-masala-filterform-action"},"Validators":[]},
                "move":{"Label":"p\u0159esunout","Method":"addCheckbox","Attributes":{"class":"form-control","data":"","filter":false,"summary":false,"unrender":false,"unfilter":false,"unsort":true,"id":"frm-masala-filterform-move"},"Validators":[]},
                "expire":{"Label":"platnost do","Method":"addText","Attributes":{"class":"form-control datetimepicker","data":"","filter":true,"summary":false,"style":{"float":"right"},"unrender":true,"unfilter":false,"unsort":false,"id":"frm-masala-filterform-expire"},"Validators":[]},
                "graphs":{"Label":"grafy","Method":"addButton","Attributes":{"class":"fa-hover fa fa-bar-chart","filter":false,"link":"\/4camping.cz\/lubo\/sklad\/reorders\/active?do=masala-grid-graph","onClick":"graphs","summary":false,"unrender":false,"unfilter":false,"unsort":true}}},
            "dialogs":[],"graphs":[],"listeners":[],"rows":[]}
        var data = JSON.stringify(origin)
        element.setAttribute('data', data)
        expect("string").toEqual(typeof(data))
        expect(element.id).toEqual('grid')
        document.body.insertBefore(element, document.getElementById('div'))
        var dom = ReactDOM.render(<Grid />, document.getElementById(element.id))
        expect(typeof(dom.state['actions'])).toEqual('object')
        var doms = dom.attached()
        expect(doms.length).toEqual(0)
        var json = JSON.parse(document.querySelector('#grid').getAttribute('data'))
        expect(typeof(json)).toEqual("object")
        expect(json.actions.length).toEqual(2)
        expect(document.getElementById('masala-header').getAttribute('id')).toEqual('masala-header')
        /** @todo: mock request in Grid.jsx https://facebook.github.io/jest/docs/tutorial-async.html */
    });
});